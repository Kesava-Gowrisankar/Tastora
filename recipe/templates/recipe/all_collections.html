{% extends 'base.html' %}
{% block content %}
<div class="w-[90vw] mx-auto mt-8">
  <h1 class="text-4xl text-center mb-8">
    Your <span class="text-orange-400">Collections</span>
  </h1>

  {% if collections %}
    <div class="space-y-4">
      {% for collection in collections %}
        <div class="flex justify-between items-center border p-4 bg-white rounded shadow-md">
          <div>
            <h2 class="text-xl font-bold">{{ collection.title }}</h2>
            <p class="text-gray-500 text-sm">
              {{ collection.recipes.count }} recipe{{ collection.recipes.count|pluralize }}
            </p>
          </div>

          <div class="flex gap-3 items-center">
            <!-- View Button -->
            <a href="{% url 'recipe:collection_detail' collection.pk %}"
               class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">
              View
            </a>

            <!-- Delete Button (form POST for safety) -->
            <form action="{% url 'recipe:delete_collection' collection.pk %}" method="post"
                  onsubmit="return confirm('Are you sure you want to delete this collection?');">
              {% csrf_token %}
              <button type="submit"
                      class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600">
                Delete
              </button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-gray-600 mt-8">No collections found.</p>
  {% endif %}
</div>
{% endblock %}
